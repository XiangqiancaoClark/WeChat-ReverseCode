//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Sep 17 2017 16:24:48).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import <objc/NSObject.h>

@class FTS5MigrateRecord, NSDictionary, NSMutableDictionary, NSRecursiveLock, WCTDatabase, WCTTable;
@protocol FTSDBDelegate;

@interface FTSDB : NSObject
{
    _Bool m_hasStartMigrateMsgToFTS5;
    WCTTable *m_migrateRecordTable;
    FTS5MigrateRecord *m_migrateRecord;
    NSRecursiveLock *m_lock;
    NSMutableDictionary *m_dicInvalidUserNameId;
    NSMutableDictionary *m_dicValidUserName;
    NSMutableDictionary *m_dicValidUserNameId;
    WCTDatabase *m_db;
    NSDictionary *m_dicTableMessage;
    WCTTable *m_tableMsgUserNameID;
    WCTTable *m_tableDeleteRecord;
    WCTTable *m_fts5RowidIndexTable;
    WCTTable *m_FavFTS3Table;
    WCTTable *m_FavFTS5SearchItemTable;
    WCTTable *m_FavFTS5RowIdIndexTable;
    WCTTable *m_FavFTS5TagTable;
    id <FTSDBDelegate> _delegate;
}

- (void).cxx_destruct;
@property(nonatomic) __weak id <FTSDBDelegate> delegate; // @synthesize delegate=_delegate;
@property(retain, nonatomic) WCTTable *m_FavFTS5TagTable; // @synthesize m_FavFTS5TagTable;
@property(retain, nonatomic) WCTTable *m_FavFTS5RowIdIndexTable; // @synthesize m_FavFTS5RowIdIndexTable;
@property(retain, nonatomic) WCTTable *m_FavFTS5SearchItemTable; // @synthesize m_FavFTS5SearchItemTable;
@property(retain, nonatomic) WCTTable *m_tableDeleteRecord; // @synthesize m_tableDeleteRecord;
@property(retain, nonatomic) WCTTable *m_tableMsgUserNameID; // @synthesize m_tableMsgUserNameID;
@property(retain, nonatomic) NSDictionary *m_dicTableMessage; // @synthesize m_dicTableMessage;
@property(retain, nonatomic) WCTTable *m_FavFTS3Table; // @synthesize m_FavFTS3Table;
@property(retain, nonatomic) WCTDatabase *m_db; // @synthesize m_db;
- (void)recoverDB;
- (void)closeDBBeforeInit;
- (void)closeDB;
- (long long)getFileSize;
- (unsigned int)getFreeListCount;
- (unsigned int)getPageCount;
- (_Bool)initDB;
- (void)dealloc;
- (id)init;
- (_Bool)deleteMsgsFromRecordLimit:(unsigned int)arg1 finish:(_Bool *)arg2 operateCnt:(unsigned int *)arg3 cancelBlock:(CDUnknownBlockType)arg4;
- (_Bool)removeDeleteRecordForUsrId:(unsigned int)arg1;
- (_Bool)deleteFts5MsgContent:(id)arg1 withHandle:(id)arg2;
- (_Bool)updateToDeleteLocalIds:(id)arg1 inChatTable:(id)arg2;
- (_Bool)createDeleteRecordTable;
- (unsigned int)getIndexTableIdForSession:(id)arg1 msgLocalId:(unsigned int)arg2 content:(id *)arg3;
- (unsigned int)getIndexCountInChatTable:(id)arg1;
- (unsigned int)getFTSIndexCount;
- (unsigned int)getFTSSessionCount;
- (_Bool)createTableForFts5;
- (id)msgTableWithIndex:(unsigned int)arg1;
- (id)fts5MsgTableNameWithIndex:(unsigned int)arg1;
- (id)fts3MsgTableNameWithIndex:(unsigned int)arg1;
- (_Bool)createAllMsgTable;
- (id)qualifyQuery:(id)arg1 isFTS5:(_Bool)arg2;
- (id)processInternalQueryResult:(id)arg1;
- (id)internalQuery:(id)arg1 inTableId:(int)arg2 limitUsrId:(id)arg3 minRowId:(id)arg4 cancelBlock:(CDUnknownBlockType)arg5;
- (id)queryText:(id)arg1 limitUsrname:(id)arg2 cancelBlock:(CDUnknownBlockType)arg3;
- (void)clearUserNameIdCacheOfTable:(int)arg1;
- (_Bool)migrateToFTS5WithLimit:(int)arg1 isFinish:(_Bool *)arg2 cancelBlock:(CDUnknownBlockType)arg3;
- (_Bool)deleteInvalidRowsInChatTable:(id)arg1 limit:(int)arg2 cancelBlock:(CDUnknownBlockType)arg3;
- (_Bool)insertFTS5MsgContentItem:(id)arg1 intoTable:(unsigned int)arg2 withUserNameIdItem:(id)arg3 withHandle:(id)arg4;
- (_Bool)batchInsertMsgToFTSTable:(id)arg1;
- (unsigned int)getRandomFTS5TableId;
- (unsigned int)fts3TableIdFromUserName:(id)arg1;
- (_Bool)createUserNameIdTable;
- (_Bool)deleteInvalidRowInUserNameIDTable:(unsigned int)arg1;
- (_Bool)updateUserPreCursorMesId:(unsigned int)arg1 cursorMesId:(unsigned int)arg2 withHandle:(id)arg3;
- (_Bool)updateUserNextCursorMesId:(unsigned int)arg1 cursorMesId:(unsigned int)arg2 withHandle:(id)arg3;
- (_Bool)updateUserNameInvalid:(id)arg1;
- (_Bool)insertNewRowInUserNameIDTable:(id)arg1 lastLocalId:(unsigned int)arg2;
- (id)getOneInvalidateIndexItem;
- (_Bool)hasInvalidRowsInChatTable;
- (id)getUserNameIdWithLimit:(unsigned int)arg1 where:(const struct Expression *)arg2;
- (id)getValidIndexItemByUserNameId:(unsigned int)arg1;
- (id)getValidIndexItemByUserName:(id)arg1;
- (void)preloadCacheUser;
- (_Bool)CreateMessageTable;
- (_Bool)haveFTS3Index:(id)arg1;
- (unsigned int)getAllFavFTS3ObjectsCount;
- (id)queryTextInFavFTS3Table:(id)arg1;
- (_Bool)clearFavFTS3Table;
- (_Bool)deleteRowsInFavFTS3Table:(id)arg1;
- (_Bool)updateRowsInFavFTS3Table:(id)arg1;
- (_Bool)insertRowsInFavFTS3Table:(id)arg1;
- (_Bool)existFavFTS3Table;
- (_Bool)createFavFTS3Table;
- (id)getInternalQuaryResultFromLocalIds:(id)arg1 withHandle:(id)arg2 cancelBlock:(CDUnknownBlockType)arg3;
- (id)internalQueryTags:(id)arg1 cancelBlock:(CDUnknownBlockType)arg2;
- (id)internalFilterType:(int)arg1 cancelBlock:(CDUnknownBlockType)arg2;
- (id)internalQueryText:(id)arg1 cancelBlock:(CDUnknownBlockType)arg2;
- (id)queryTextInFavFTS5Table:(id)arg1 byType:(int)arg2 tags:(id)arg3 cancelBlock:(CDUnknownBlockType)arg4;
- (id)getLocalIdSetWithString:(id)arg1;
- (id)getLocalIdStringWithSet:(id)arg1;
- (id)getAndResetHandleStatementFrom:(id)arg1 withTag:(id)arg2 withStatement:(const struct Statement *)arg3;
- (_Bool)getTagsWithLocalId:(unsigned int)arg1 withHandle:(id)arg2 toResult:(id)arg3;
- (_Bool)getTagMatch:(id)arg1 isPrecise:(_Bool)arg2 withHandle:(id)arg3 toResult:(id)arg4;
- (const struct Statement *)updateFavTagLocalIdStatement;
- (_Bool)deleteLocald:(unsigned int)arg1 fromTags:(id)arg2 withHandle:(id)arg3;
- (_Bool)updateLocalId:(unsigned int)arg1 toTags:(id)arg2 withHandle:(id)arg3;
- (unsigned int)getAllFavFTS5ObjectsCount;
- (id)getFavItemLocalIdByTag:(id)arg1;
- (id)getAllFavTag;
- (_Bool)updateOldFavTag:(id)arg1 toNewFavTag:(id)arg2;
- (_Bool)haveFTS5Index:(id)arg1;
- (const struct Statement *)selectRowidStatement;
- (_Bool)deleteRowsInFavFTS5Table:(id)arg1;
- (_Bool)updateIndexOfFavItem:(id)arg1 withRowid:(long long)arg2 withHandle:(id)arg3;
- (_Bool)insertIndexOfFavItem:(id)arg1 withHandle:(id)arg2;
- (_Bool)insertOrUpdateRowsInFavFTS5Table:(id)arg1 updateCount:(unsigned int *)arg2;
- (unsigned int)getMaxUnsyncLocalId;
- (unsigned int)getMaxFavFts5UpdateSeq;
- (_Bool)clearFavFTS5Table;
- (_Bool)existFavFTS5Table;
- (_Bool)createFavFTS5Table;

@end

